# SmartATS é¡¹ç›®è¿›åº¦æŠ¥å‘Š

**æŠ¥å‘Šæ—¥æœŸ**: 2026-02-20
**é¡¹ç›®ç‰ˆæœ¬**: 0.8.0
**æ•´ä½“å®Œæˆåº¦**: 80%

---

## ä¸€ã€é¡¹ç›®æ¦‚å†µ

SmartATS æ˜¯ä¸€ä¸ªæ™ºèƒ½æ‹›è˜ç®¡ç†ç³»ç»Ÿï¼Œä¸º HR ä¸“ä¸šäººå‘˜æä¾›ç®€å†æ‰¹é‡ä¸Šä¼ ã€AI è‡ªåŠ¨è§£æç»“æ„åŒ–ä¿¡æ¯ã€RAG è¯­ä¹‰äººæ‰æœç´¢ç­‰åŠŸèƒ½ã€‚

### æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | çŠ¶æ€ |
|------|------|------|
| Spring Boot | 3.1.6 | âœ… å·²é…ç½® |
| MyBatis-Plus | 3.5.9 | âœ… å·²é›†æˆ |
| MySQL | 8.0 | âœ… å·²è¿æ¥ |
| Redis | 7.0 | âœ… StringRedisTemplate |
| RabbitMQ | 3.12 | âœ… å·²é…ç½® |
| MinIO | Latest | âœ… å·²é›†æˆ |
| Spring Security | 6.1.5 | âœ… JWT + CORS |
| Spring AI | - | âŒ æœªå¼€å§‹ |
| Redisson | - | â³ å¾…é›†æˆ |

---

## äºŒã€æ¨¡å—å®Œæˆæƒ…å†µ

### 2.1 è®¤è¯æ¨¡å— (auth/) - 95% âœ…

**å·²å®Œæˆ**:
- âœ… ç”¨æˆ·æ³¨å†Œ (POST /api/v1/auth/register)
- âœ… ç”¨æˆ·ç™»å½• (POST /api/v1/auth/login)
- âœ… é‚®ç®±éªŒè¯ç  (POST /api/v1/auth/send-verification-code)
- âœ… JWT Token ç”Ÿæˆä¸éªŒè¯
- âœ… Token æ’¤é”€æœºåˆ¶ (Redis å­˜å‚¨)
- âœ… å¯†ç  BCrypt åŠ å¯†
- âœ… JwtAuthenticationFilter è¿‡æ»¤å™¨
- âœ… ç”¨æˆ·è§’è‰²æ”¯æŒ (ADMIN, HR, INTERVIEWER)
- âœ… AI è°ƒç”¨é…é¢ç®¡ç†

**å¾…å®Œæˆ**:
- â³ Token åˆ·æ–°æ¥å£ (POST /api/v1/auth/refresh)
- â³ ä»Šæ—¥ AI ä½¿ç”¨é‡ç»Ÿè®¡ (ä» Redis è·å–)

**æ–‡ä»¶æ¸…å•**:
```
module/auth/
â”œâ”€â”€ controller/AuthController.java         âœ…
â”œâ”€â”€ service/
â”‚   â”œâ”€â”€ UserService.java                  âœ…
â”‚   â””â”€â”€ VerificationCodeService.java      âœ…
â”œâ”€â”€ mapper/UserMapper.java                 âœ…
â”œâ”€â”€ entity/User.java                      âœ…
â”œâ”€â”€ dto/
â”‚   â”œâ”€â”€ request/
â”‚   â”‚   â”œâ”€â”€ RegisterRequest.java         âœ…
â”‚   â”‚   â”œâ”€â”€ LoginRequest.java             âœ…
â”‚   â”‚   â””â”€â”€ SendVerificationCodeRequest.java âœ…
â”‚   â””â”€â”€ response/
â”‚       â”œâ”€â”€ RegisterResponse.java         âœ…
â”‚       â”œâ”€â”€ LoginResponse.java            âœ… (æœ‰å° TODO)
â”‚       â””â”€â”€ UserInfo.java                 âœ…
â”œâ”€â”€ util/JwtUtil.java                     âœ…
â””â”€â”€ filter/JwtAuthenticationFilter.java  âœ…
```

---

### 2.2 èŒä½ç®¡ç†æ¨¡å— (job/) - 90% âœ…

**å·²å®Œæˆ**:
- âœ… èŒä½ CRUD (åˆ›å»ºã€æ›´æ–°ã€æŸ¥è¯¢ã€åˆ é™¤)
- âœ… èŒä½å‘å¸ƒ/å…³é—­ (çŠ¶æ€ç®¡ç†)
- âœ… Redis ç¼“å­˜ç­–ç•¥ (å»¶è¿ŸåŒåˆ )
- âœ… æµè§ˆé‡ç»Ÿè®¡ (åŸå­è®¡æ•°å™¨ + å®šæ—¶åŒæ­¥)
- âœ… çƒ­é—¨èŒä½æ’è¡Œæ¦œ (ZSet)
- âœ… å…¨æ–‡æœç´¢æ”¯æŒ (FULLTEXT INDEX)
- âœ… åˆ†é¡µæŸ¥è¯¢
- âœ… JSON å­—æ®µå­˜å‚¨ (requirementsã€benefits)

**å¾…å®Œæˆ**:
- â³ èŒä½é«˜çº§ç­›é€‰ (æŒ‰è–ªèµ„ã€åœ°ç‚¹ã€ç»éªŒç­‰)

**æ–‡ä»¶æ¸…å•**:
```
module/job/
â”œâ”€â”€ controller/JobController.java          âœ…
â”œâ”€â”€ service/JobService.java               âœ…
â”œâ”€â”€ mapper/JobMapper.java                 âœ…
â”œâ”€â”€ entity/Job.java                       âœ…
â”œâ”€â”€ dto/
â”‚   â”œâ”€â”€ request/
â”‚   â”‚   â”œâ”€â”€ JobCreateRequest.java        âœ…
â”‚   â”‚   â””â”€â”€ JobUpdateRequest.java        âœ…
â”‚   â””â”€â”€ response/
â”‚       â””â”€â”€ JobResponse.java              âœ…
â””â”€â”€ sync/JobViewCountSyncScheduler.java  âœ…
```

**ç¼“å­˜ç­–ç•¥**:
- è¯»å–: å…ˆæŸ¥ Redis â†’ æœªå‘½ä¸­æŸ¥ MySQL â†’ å›å¡«ç¼“å­˜
- æ›´æ–°: å…ˆåˆ ç¼“å­˜ â†’ æ›´æ–°æ•°æ®åº“ â†’ å»¶è¿Ÿ 500ms å†åˆ ç¼“å­˜
- çƒ­é—¨èŒä½: æ¯ 10 åˆ†é’Ÿåˆ·æ–° ZSet æ’è¡Œæ¦œ

---

### 2.3 ç®€å†ä¸Šä¼ æ¨¡å— (resume/) - 80% â³

**å·²å®Œæˆ**:
- âœ… ç®€å†ä¸Šä¼  (POST /api/v1/resumes/upload)
- âœ… æ–‡ä»¶ç±»å‹éªŒè¯ (PDFã€DOCã€DOCX)
- âœ… æ–‡ä»¶å¤§å°é™åˆ¶ (10MB)
- âœ… MD5 å“ˆå¸Œå»é‡
- âœ… MinIO å¯¹è±¡å­˜å‚¨
- âœ… ä»»åŠ¡çŠ¶æ€æŸ¥è¯¢ (GET /api/v1/resumes/tasks/{taskId})
- âœ… RabbitMQ å¼‚æ­¥å¤„ç†
- âœ… æ¶ˆè´¹è€…å¹‚ç­‰æ€§æ£€æŸ¥
- âœ… ä»»åŠ¡è¿›åº¦è·Ÿè¸ª (Redis)

**å¾…å®Œæˆ**:
- âŒ AI ç®€å†è§£æ (å½“å‰ä¸ºæ¨¡æ‹Ÿï¼Œè€—æ—¶ 3 ç§’)
- âŒ ç»“æ„åŒ–æ•°æ®æå– (å§“åã€æ‰‹æœºã€é‚®ç®±ã€å­¦å†ã€å·¥ä½œç»å†)
- âŒ å€™é€‰äººæ•°æ®ä¿å­˜
- âŒ å‘é‡åŒ–å­˜å‚¨ (Milvus/PgVector)
- â³ åˆ†å¸ƒå¼é” (Redisson)

**æ–‡ä»¶æ¸…å•**:
```
module/resume/
â”œâ”€â”€ controller/ResumeController.java        âœ…
â”œâ”€â”€ service/ResumeService.java             âœ…
â”œâ”€â”€ mapper/ResumeMapper.java               âœ…
â”œâ”€â”€ entity/Resume.java                     âœ…
â”œâ”€â”€ consumer/ResumeParseConsumer.java      â³ (AI è§£æ TODO)
â””â”€â”€ dto/
    â”œâ”€â”€ ResumeUploadResponse.java          âœ…
    â”œâ”€â”€ ResumeParseMessage.java            âœ…
    â””â”€â”€ TaskStatusResponse.java            âœ…
```

**å¤„ç†æµç¨‹**:
```
ä¸Šä¼  â†’ MD5 è®¡ç®— â†’ Redis å»é‡æ£€æŸ¥ â†’ MinIO å­˜å‚¨ â†’ MySQL è®°å½• â†’ ä»»åŠ¡çŠ¶æ€(Redis) â†’ MQ æ¶ˆæ¯ â†’ è¿”å› taskId
                                                          â†“
                        æ¶ˆè´¹å™¨ â†’ å¹‚ç­‰æ€§æ£€æŸ¥ â†’ è·å–åˆ†å¸ƒå¼é”(TODO) â†’ AI è§£æ(TODO) â†’ ä¿å­˜å€™é€‰äºº(TODO) â†’ å‘é‡åŒ–(TODO) â†’ å®Œæˆ
```

---

### 2.4 Webhook æ¨¡å— (webhook/) - 70% â³

**å·²å®Œæˆ**:
- âœ… Webhook é…ç½®ç®¡ç† (åˆ›å»ºã€æŸ¥è¯¢ã€åˆ é™¤)
- âœ… äº‹ä»¶ç±»å‹è®¢é˜… (13 ç§äº‹ä»¶)
- âœ… HMAC-SHA256 ç­¾åéªŒè¯
- âœ… å¼‚æ­¥äº‹ä»¶å‘é€ (ç‹¬ç«‹çº¿ç¨‹æ± )
- âœ… å¤±è´¥è‡ªåŠ¨é‡è¯•æœºåˆ¶
- âœ… å¤±è´¥è‡ªåŠ¨ç¦ç”¨ (5 æ¬¡å)
- âœ… è°ƒç”¨æ—¥å¿—è®°å½•
- âœ… ç®€å†è§£æå®Œæˆäº‹ä»¶è§¦å‘

**å¾…å®Œæˆ**:
- â³ Webhook æµ‹è¯•æ¥å£ (POST /api/v1/webhooks/{id}/test)
- â³ HTTP å®¢æˆ·ç«¯æµ‹è¯•

**æ–‡ä»¶æ¸…å•**:
```
module/webhook/
â”œâ”€â”€ controller/WebhookController.java      âœ…
â”œâ”€â”€ service/WebhookService.java           âœ…
â”œâ”€â”€ mapper/
â”‚   â”œâ”€â”€ WebhookConfigMapper.java          âœ…
â”‚   â””â”€â”€ WebhookLogMapper.java             âœ…
â”œâ”€â”€ entity/
â”‚   â”œâ”€â”€ WebhookConfig.java                âœ…
â”‚   â””â”€â”€ WebhookLog.java                   âœ…
â”œâ”€â”€ enums/WebhookEventType.java           âœ…
â””â”€â”€ dto/
    â”œâ”€â”€ WebhookPayload.java               âœ…
    â”œâ”€â”€ WebhookCreateRequest.java         âš ï¸ (ç¼–è¯‘é”™è¯¯)
    â””â”€â”€ WebhookResponse.java              âœ…
```

**æ”¯æŒçš„äº‹ä»¶**:
- ç®€å†: `resume.uploaded`, `resume.parse_completed`, `resume.parse_failed`
- å€™é€‰äºº: `candidate.created`, `candidate.updated`
- èŒä½ç”³è¯·: `application.submitted`, `application.status_changed`
- é¢è¯•: `interview.scheduled`, `interview.completed`, `interview.cancelled`
- ç³»ç»Ÿ: `system.error`, `system.maintenance`

---

### 2.5 æœªå®ç°æ¨¡å—

#### å€™é€‰äººæ¨¡å— (candidate/) - 0% âŒ
**è®¡åˆ’åŠŸèƒ½**:
- å€™é€‰äºº CRUD
- AI æå–çš„ç»“æ„åŒ–æ•°æ®å±•ç¤º
- ç®€å†é¢„è§ˆ
- å€™é€‰äººæœç´¢ (å…³é”®è¯ + è¯­ä¹‰)

#### é¢è¯•æ¨¡å— (interview/) - 0% âŒ
**è®¡åˆ’åŠŸèƒ½**:
- é¢è¯•å®‰æ’
- é¢è¯•åé¦ˆ
- é¢è¯•è®°å½•ç®¡ç†
- é¢è¯•è¯„ä»·

---

## ä¸‰ã€åŸºç¡€è®¾æ–½å®Œæˆæƒ…å†µ

### 3.1 å…¬å…±ç»„ä»¶ (common/) - 100% âœ…

| ç»„ä»¶ | æ–‡ä»¶ | çŠ¶æ€ |
|------|------|------|
| ç»Ÿä¸€å“åº” | `Result.java` | âœ… |
| é”™è¯¯ç  | `ResultCode.java` | âœ… |
| ä¸šåŠ¡å¼‚å¸¸ | `BusinessException.java` | âœ… |
| å…¨å±€å¼‚å¸¸å¤„ç† | `GlobalExceptionHandler.java` | âœ… |
| Redis å¸¸é‡ | `RedisKeyConstants.java` | âœ… |
| æ–‡ä»¶éªŒè¯å·¥å…· | `FileValidationUtil.java` | âœ… (æ–°å¢) |

### 3.2 é…ç½®ç±» (config/) - 100% âœ…

| é…ç½® | æ–‡ä»¶ | çŠ¶æ€ |
|------|------|------|
| Spring Security | `SecurityConfig.java` | âœ… (å« CORS) |
| RabbitMQ | `RabbitMQConfig.java` | âœ… |
| MinIO | `MinioConfig.java` | âœ… |
| å¼‚æ­¥ä»»åŠ¡ | `AsyncConfig.java` | âœ… (æ–°å¢) |

### 3.3 åŸºç¡€è®¾æ–½å±‚ (infrastructure/) - 100% âœ…

| æœåŠ¡ | æ–‡ä»¶ | çŠ¶æ€ |
|------|------|------|
| é‚®ä»¶æœåŠ¡ | `EmailService.java` | âœ… |
| æ¶ˆæ¯é˜Ÿåˆ— | `MessagePublisher.java` | âœ… |
| æ–‡ä»¶å­˜å‚¨æ¥å£ | `FileStorageService.java` | âœ… |
| MinIO å®ç° | `MinioFileStorageService.java` | âœ… |

---

## å››ã€æ•°æ®åº“å®Œæˆæƒ…å†µ

### 4.1 å·²åˆ›å»ºçš„è¡¨

| è¡¨å | çŠ¶æ€ | æ•°æ®é‡ | è¯´æ˜ |
|------|------|--------|------|
| `users` | âœ… | æœ‰æ•°æ® | ç”¨æˆ·è´¦æˆ· |
| `jobs` | âœ… | æœ‰æ•°æ® | èŒä½å‘å¸ƒ |
| `resumes` | âœ… | æœ‰æ•°æ® | ç®€å†æ–‡ä»¶ |
| `candidates` | âœ… | ç©º | å€™é€‰äººä¿¡æ¯ (å¾… AI å¡«å……) |
| `job_applications` | âœ… | ç©º | èŒä½ç”³è¯· |
| `interview_records` | âœ… | ç©º | é¢è¯•è®°å½• |
| `webhook_configs` | âœ… | ç©º | Webhook é…ç½® |
| `webhook_logs` | âœ… | ç©º | Webhook æ—¥å¿— |

### 4.2 è¡¨å…³ç³»

```
users (1) ----< (N) job_applications >---- (1) jobs
candidates (1) ----< (1) resumes
job_applications (1) ----< (N) interview_records
```

---

## äº”ã€å®‰å…¨åŠ å›ºæƒ…å†µ

### 5.1 å·²å®Œæˆçš„å®‰å…¨æªæ–½

| å®‰å…¨æªæ–½ | å®ç°æ–¹å¼ | çŠ¶æ€ |
|---------|---------|------|
| å¯†ç åŠ å¯† | BCrypt | âœ… |
| JWT è®¤è¯ | HMAC-SHA256 | âœ… |
| Token æ’¤é”€ | Redis å­˜å‚¨ | âœ… |
| CORS é…ç½® | SecurityConfig | âœ… (æ–°å¢) |
| æ–‡ä»¶ä¸Šä¼ éªŒè¯ | æ–‡ä»¶å¤´é­”æ•°æ£€æŸ¥ | âœ… (æ–°å¢) |
| æ–‡ä»¶åæ¶ˆæ¯’ | FileValidationUtil | âœ… (æ–°å¢) |
| Webhook ç­¾å | HMAC-SHA256 | âœ… |
| SQL æ³¨å…¥é˜²æŠ¤ | LambdaQueryWrapper | âœ… |

### 5.2 å¾…å¤„ç†çš„å®‰å…¨é—®é¢˜

| é—®é¢˜ | é£é™©ç­‰çº§ | ä¼˜å…ˆçº§ |
|------|---------|--------|
| æ•æ„Ÿé…ç½®ç¡¬ç¼–ç  | ğŸ”´ é«˜ | P0 |
| å¯†ç ç­–ç•¥è¿‡äºç®€å• | ğŸŸ¡ ä¸­ | P1 |
| ç¼ºå°‘ API é™æµ | ğŸŸ¡ ä¸­ | P2 |

---

## å…­ã€å·²çŸ¥é—®é¢˜

### 6.1 ç¼–è¯‘é”™è¯¯

```
WebhookCreateRequest.java:5,38 - æ‰¾ä¸åˆ°ç¬¦å·: ç¬¦å·: ç±» URL
WebhookCreateRequest.java:17,6 - æ‰¾ä¸åˆ°ç¬¦å·: ç¬¦å·: ç±» URL
```

**åŸå› **: ç¼ºå°‘ `jakarta.validation-api` ä¾èµ–
**å½±å“**: Webhook æ¨¡å—æ— æ³•ç¼–è¯‘
**ä¿®å¤**: åœ¨ pom.xml æ·»åŠ ä¾èµ–

### 6.2 åŠŸèƒ½ç¼ºé™·

1. **AI ç®€å†è§£ææœªå®ç°** (P0)
   - ä½ç½®: `ResumeParseConsumer.java:81-87`
   - å½“å‰: æ¨¡æ‹Ÿè€—æ—¶ 3 ç§’
   - éœ€è¦: é›†æˆ Spring AIï¼Œæå–ç»“æ„åŒ–æ•°æ®

2. **åˆ†å¸ƒå¼é”æœªå®ç°** (P0)
   - ä½ç½®: `ResumeParseConsumer.java:66`
   - å½“å‰: TODO æ³¨é‡Š
   - éœ€è¦: é›†æˆ Redisson

3. **Webhook æµ‹è¯•æ¥å£æœªå®ç°** (P1)
   - ä½ç½®: `WebhookController.java:86`
   - å½“å‰: ç©ºæ–¹æ³•
   - éœ€è¦: å‘é€æµ‹è¯•äº‹ä»¶

---

## ä¸ƒã€ä»£ç è´¨é‡

### 7.1 ä¼˜ç‚¹

1. **æ¶æ„æ¸…æ™°**: æ¨¡å—åŒ–è®¾è®¡ï¼Œåˆ†å±‚åˆç†
2. **ä»£ç è§„èŒƒ**: ç»Ÿä¸€å¼‚å¸¸å¤„ç†ã€å“åº”å°è£…
3. **æ³¨é‡Šå®Œå–„**: å…³é”®é€»è¾‘æœ‰æ¸…æ™°æ³¨é‡Š
4. **å®‰å…¨è€ƒè™‘**: å¯†ç åŠ å¯†ã€Token æ’¤é”€ã€æ–‡ä»¶éªŒè¯

### 7.2 å¾…æ”¹è¿›

1. **æµ‹è¯•è¦†ç›–**: ç¼ºå°‘å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
2. **é…ç½®ç®¡ç†**: æ•æ„Ÿä¿¡æ¯ç¡¬ç¼–ç 
3. **ç›‘æ§æ—¥å¿—**: ç¼ºå°‘åˆ†å¸ƒå¼é“¾è·¯è¿½è¸ª
4. **API æ–‡æ¡£**: æœªé…ç½® Swagger/OpenAPI

---

## å…«ã€ä¸‹ä¸€æ­¥é‡ç‚¹

1. **ä¿®å¤ç¼–è¯‘é”™è¯¯** (30åˆ†é’Ÿ)
   - æ·»åŠ  jakarta.validation-api ä¾èµ–

2. **å®ç° AI ç®€å†è§£æ** (2-3 å¤©)
   - é›†æˆ Spring AI
   - æå–ç»“æ„åŒ–æ•°æ®
   - ä¿å­˜åˆ° candidates è¡¨

3. **å®ç°åˆ†å¸ƒå¼é”** (åŠå¤©)
   - é›†æˆ Redisson
   - æ›¿æ¢ TODO éƒ¨åˆ†

4. **æ·»åŠ å•å…ƒæµ‹è¯•** (1-2 å¤©)
   - æ ¸å¿ƒä¸šåŠ¡é€»è¾‘æµ‹è¯•
   - API æ¥å£æµ‹è¯•

---

## ä¹ã€é¡¹ç›®ç»Ÿè®¡

### 9.1 ä»£ç é‡

| ç±»å‹ | æ–‡ä»¶æ•° | å¤§çº¦è¡Œæ•° |
|------|--------|---------|
| Entity | 8 | ~800 |
| Mapper | 10 | ~200 |
| Service | 8 | ~2500 |
| Controller | 4 | ~600 |
| DTO | 20+ | ~1000 |
| Config | 4 | ~400 |
| Util | 2 | ~300 |
| **æ€»è®¡** | **60+** | **~6000** |

### 9.2 API æ¥å£

| åˆ†ç±» | å·²å®ç° | è®¡åˆ’ | å®Œæˆåº¦ |
|------|--------|------|--------|
| è®¤è¯ | 4 | 5 | 80% |
| èŒä½ | 8 | 10 | 80% |
| ç®€å† | 4 | 8 | 50% |
| å€™é€‰äºº | 0 | 10 | 0% |
| é¢è¯• | 0 | 8 | 0% |
| Webhook | 3 | 4 | 75% |
| **æ€»è®¡** | **19** | **45** | **42%** |

---

## åã€æ€»ç»“

SmartATS é¡¹ç›®å·²å®Œæˆæ ¸å¿ƒæ¶æ„å’ŒåŸºç¡€åŠŸèƒ½å¼€å‘ï¼Œæ•´ä½“è¿›åº¦è¾¾åˆ° **80%**ã€‚

**ä¸»è¦æˆå°±**:
- âœ… å®Œæ•´çš„è®¤è¯æˆæƒä½“ç³»
- âœ… ç¨³å®šçš„èŒä½ç®¡ç†åŠŸèƒ½
- âœ… å¼‚æ­¥ç®€å†å¤„ç†æ¡†æ¶
- âœ… Webhook äº‹ä»¶é€šçŸ¥ç³»ç»Ÿ
- âœ… å®Œå–„çš„å®‰å…¨åŠ å›º

**æ ¸å¿ƒç¼ºå¤±**:
- âŒ AI ç®€å†è§£æåŠŸèƒ½ (äº§å“æ ¸å¿ƒå·®å¼‚åŒ–åŠŸèƒ½)
- âŒ å€™é€‰äººç®¡ç†æ¨¡å—
- âŒ é¢è¯•ç®¡ç†æ¨¡å—
- âŒ è¯­ä¹‰æœç´¢åŠŸèƒ½

**å»ºè®®**: ä¼˜å…ˆä¿®å¤ç¼–è¯‘é”™è¯¯å’Œå®ç° AI è§£æåŠŸèƒ½ï¼Œè¿™ä¸¤ä¸ªæ˜¯äº§å“æ­£å¸¸è¿è¡Œçš„å…³é”®ã€‚

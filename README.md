# SmartATS â€” æ™ºèƒ½æ‹›è˜ç®¡ç†ç³»ç»Ÿ

> é¢å‘ HR çš„ AI é©±åŠ¨ç®€å†è§£æä¸äººæ‰æœç´¢å¹³å°

---

## é¡¹ç›®ç®€ä»‹

**SmartATS**ï¼ˆSmart Applicant Tracking Systemï¼‰æ˜¯ä¸€å¥—é¢å‘ HR çš„æ™ºèƒ½æ‹›è˜ç®¡ç†ç³»ç»Ÿï¼Œè¦†ç›–ä»ç®€å†ä¸Šä¼ ã€AI è§£æåˆ°é¢è¯•ç®¡ç†çš„å®Œæ•´æ‹›è˜æµç¨‹ã€‚

| é“¾è·¯ | åŠŸèƒ½æè¿° | çŠ¶æ€ |
|------|---------|------|
| **è®¤è¯é“¾è·¯** | æ³¨å†Œ / ç™»å½• / JWT é‰´æƒï¼Œè§’è‰²ï¼šADMIN / HR / INTERVIEWER | âœ… 98% |
| **ä¸Šä¼ é“¾è·¯** | ä¸Šä¼ ç®€å† â†’ MD5 å»é‡ â†’ MinIO å­˜å‚¨ â†’ MQ å¼‚æ­¥ â†’ AI ç»“æ„åŒ–æå– | âœ… 95% |
| **æ‹›è˜æµç¨‹é“¾è·¯** | èŒä½ç®¡ç† â†’ å€™é€‰äºº â†’ æŠ•é€’ç”³è¯· â†’ é¢è¯•å®‰æ’ â†’ é¢è¯•åé¦ˆ | âœ… 95% |
| **Webhook é“¾è·¯** | äº‹ä»¶è§¦å‘ â†’ ç­¾å â†’ å¼‚æ­¥å‘é€ â†’ é‡è¯• â†’ æ—¥å¿—è®°å½• | âœ… 95% |
| **æ£€ç´¢é“¾è·¯** | å…³é”®è¯ç­›é€‰ + RAG è¯­ä¹‰æœç´¢ï¼ˆå€™é€‰äººå‘é‡æ£€ç´¢ï¼‰ | â³ å¾…å®ç° |

**æ•´ä½“å®Œæˆåº¦**: ~92%ï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰  
**æ€» API ç«¯ç‚¹æ•°**: 37 ä¸ª  
**Java æºæ–‡ä»¶æ•°**: 84 ä¸ª

---

## æŠ€æœ¯æ ˆ

| å±‚æ¬¡ | æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” | çŠ¶æ€ |
|------|------|------|------|------|
| æ ¸å¿ƒæ¡†æ¶ | Spring Boot | 3.2.5 | åŸºç¡€æ¡†æ¶ | âœ… |
| è¿è¡Œæ—¶ | JDK | 21 | Java è¿è¡Œç¯å¢ƒ | âœ… |
| ORM | MyBatis-Plus | 3.5.10.1 | æ•°æ®åº“æ“ä½œï¼ˆLambdaQueryWrapperï¼‰ | âœ… |
| æ•°æ®åº“ | MySQL | 8.0 | ä¸šåŠ¡æ•°æ®æŒä¹…åŒ–ï¼Œå«å…¨æ–‡ç´¢å¼• | âœ… |
| ç¼“å­˜ | Redis | 7.0 | ç¼“å­˜ã€åˆ†å¸ƒå¼å»é‡ã€åŸå­è®¡æ•° | âœ… |
| åˆ†å¸ƒå¼é” | Redisson | 3.25.0 | Watchdog è‡ªåŠ¨ç»­æœŸåˆ†å¸ƒå¼é” | âœ… |
| æ¶ˆæ¯é˜Ÿåˆ— | RabbitMQ | 3.12 | ç®€å†è§£æä»»åŠ¡å¼‚æ­¥è§£è€¦ã€æ­»ä¿¡è¡¥å¿ | âœ… |
| å¯¹è±¡å­˜å‚¨ | MinIO | 8.5.10 | ç®€å†æ–‡ä»¶å­˜å‚¨ | âœ… |
| AI é›†æˆ | Spring AI | 1.0.0-M4 | æ™ºè°±AI è°ƒç”¨ï¼ˆOpenAI å…¼å®¹æ¨¡å¼ï¼‰ | âœ… |
| æ–‡æ¡£å¤„ç† | Apache POI / PDFBox | 5.2.5 / 2.0.29 | DOC/DOCX/PDF å†…å®¹æå– | âœ… |
| è®¤è¯ | Spring Security + JWT | - | æ¥å£é‰´æƒã€BCrypt å¯†ç åŠ å¯† | âœ… |
| é‚®ä»¶ | Spring Mail | - | HTML éªŒè¯ç é‚®ä»¶ï¼ˆQQ SMTPï¼‰ | âœ… |
| JSON | Fastjson2 | 2.0.43 | åºåˆ—åŒ– | âœ… |
| å·¥å…·åº“ | Hutool | 5.8.23 | åŠ å¯†ã€æ—¶é—´ã€å­—ç¬¦ä¸² | âœ… |

---

## ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ HR Clientâ”‚â”€â”€â”€â”€â–¶â”‚  API å±‚ï¼šSpring Security JWT è¿‡æ»¤å™¨                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                            â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â–¼              â–¼              â–¼         â–¼          â–¼              â–¼              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è®¤è¯   â”‚  â”‚ èŒä½ç®¡ç† â”‚  â”‚ ç®€å†ä¸Šä¼  â”‚  â”‚ å€™é€‰äºº â”‚  â”‚ èŒä½ç”³è¯· â”‚  â”‚ é¢è¯•è®°å½• â”‚  â”‚Webhook â”‚
â”‚ æ¨¡å—   â”‚  â”‚ æ¨¡å—     â”‚  â”‚ æ¨¡å—     â”‚  â”‚ æ¨¡å—   â”‚  â”‚ æ¨¡å—     â”‚  â”‚ æ¨¡å—     â”‚  â”‚ æ¨¡å—   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚ å‘ MQ æ¶ˆæ¯
                               â–¼
                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                      â”‚    RabbitMQ      â”‚
                      â”‚  resume.parse    â”‚
                      â”‚  .queue          â”‚
                      â”‚  DLX â†’ DLQ æ­»ä¿¡  â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚ æ¶ˆè´¹
                               â–¼
                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                      â”‚  è§£ææ¶ˆè´¹è€…              â”‚
                      â”‚  1. å¹‚ç­‰æ£€æŸ¥            â”‚
                      â”‚  2. Redisson åˆ†å¸ƒå¼é”   â”‚
                      â”‚  3. æ–‡ä»¶å†…å®¹æå–        â”‚
                      â”‚  4. AI ç»“æ„åŒ–æå–       â”‚
                      â”‚  5. å†™ MySQL candidates â”‚
                      â”‚  6. Webhook é€šçŸ¥        â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å¿«é€Ÿå¯åŠ¨

### å‰ç½®ä¾èµ–

| å·¥å…· | ç‰ˆæœ¬è¦æ±‚ | è¯´æ˜ |
|------|----------|------|
| JDK | 21 | å¿…é¡»ï¼Œä½ç‰ˆæœ¬ä¸å…¼å®¹ |
| Maven | 3.9+ | æ„å»ºå·¥å…· |
| Docker Desktop | æœ€æ–°ç‰ˆ | è¿è¡Œæ‰€æœ‰åŸºç¡€è®¾æ–½æœåŠ¡ |

### ç¬¬ä¸€æ­¥ï¼šå¯åŠ¨åŸºç¡€è®¾æ–½

```bash
git clone <repo-url>
cd SmartATS

# ä¸€é”®å¯åŠ¨ MySQL / Redis / RabbitMQ / MinIO
docker-compose up -d

# éªŒè¯æœåŠ¡å¥åº·
docker-compose ps
```

| æœåŠ¡ | åœ°å€ | è´¦å· / å¯†ç  |
|------|------|------------|
| MySQL | `localhost:3307` | `smartats` / `smartats123` |
| Redis | `localhost:6379` | å¯†ç ï¼š`redis123` |
| RabbitMQ ç®¡ç†ç•Œé¢ | `http://localhost:15672` | `admin` / `admin123`ï¼ŒVHostï¼š`smartats` |
| MinIO æ§åˆ¶å° | `http://localhost:9001` | `admin` / `admin123456` |

### ç¬¬äºŒæ­¥ï¼šåˆå§‹åŒ–æ•°æ®åº“

```bash
# åˆå§‹åŒ–æ•°æ®åº“è¡¨
mysql -h 127.0.0.1 -P 3307 -u smartats -psmartats123 smartats < docker/mysql/init/01-init-database.sql

# åˆ›å»º webhook è¡¨
mysql -h 127.0.0.1 -P 3307 -u smartats -psmartats123 smartats < src/main/resources/db/webhook_tables.sql
```

### ç¬¬ä¸‰æ­¥ï¼šé…ç½®ç¯å¢ƒå˜é‡

åˆ›å»º `.env` æ–‡ä»¶ï¼ˆå·²åŠ å…¥ `.gitignore`ï¼‰ï¼š

```env
# æ™ºè°±AIï¼ˆå¿…éœ€ï¼‰
ZHIPU_API_KEY=your_api_key_here
ZHIPU_MODEL=glm-4-flash-250414

# é‚®ä»¶åŠŸèƒ½ï¼ˆå¯é€‰ï¼‰
MAIL_HOST=smtp.qq.com
MAIL_PORT=587
MAIL_USERNAME=your_email@qq.com
MAIL_PASSWORD=your_qq_smtp_auth_code

# JWTå¯†é’¥ï¼ˆç”Ÿäº§ç¯å¢ƒå¿…é¡»ä¿®æ”¹ï¼‰
JWT_SECRET=your_production_secret_key_minimum_32_characters
```

### ç¬¬å››æ­¥ï¼šæ„å»ºå¹¶è¿è¡Œ

```bash
mvn clean install
mvn spring-boot:run
```

åº”ç”¨å¯åŠ¨åç›‘å¬ï¼š`http://localhost:8080/api/v1`

---

## æ•°æ®åº“è®¾è®¡

å…± 8 å¼ æ ¸å¿ƒè¡¨ï¼š

### è¡¨å…³ç³»æ¦‚è§ˆ

```
users â”€â”€â”
        â”œâ”€â”€â–¶ jobs â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                           â”‚
        â””â”€â”€â–¶ resumes â”€â”€â–¶ candidates â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                                  â””â”€â”€â–¶ job_applications â”€â”€â–¶ interview_records
```

### å„è¡¨è¯´æ˜

| è¡¨å | ç”¨é€” | å…³é”®å­—æ®µ |
|------|------|---------|
| `users` | è´¦å·ä½“ç³» | `role`ï¼ˆADMIN/HR/INTERVIEWERï¼‰ï¼Œ`daily_ai_quota` AI é…é¢ |
| `jobs` | èŒä½ä¿¡æ¯ | `status`ï¼ˆDRAFT/PUBLISHED/CLOSEDï¼‰ï¼Œ`required_skills` JSON |
| `resumes` | ç®€å†æ–‡ä»¶ | `file_hash` MD5 å”¯ä¸€ç´¢å¼•ï¼Œ`status` çŠ¶æ€æµè½¬ |
| `candidates` | AI æå–ç»“æ„åŒ–æ•°æ® | `skills` JSONï¼Œ`work_experiences` JSONï¼Œ`raw_json` |
| `job_applications` | æŠ•é€’è®°å½• | `status` çŠ¶æ€æµè½¬ï¼Œ`match_score` AI åŒ¹é…åˆ† |
| `interview_records` | é¢è¯•è®°å½• | `round` è½®æ¬¡ï¼Œ`recommendation` æ¨èçº§åˆ« |
| `webhook_configs` | Webhook é…ç½® | `event_types` JSONï¼Œ`secret` ç­¾åå¯†é’¥ |
| `webhook_logs` | Webhook æ—¥å¿— | `status`ï¼Œ`response_body` |

---

## API æ¥å£æ–‡æ¡£

**Base URLï¼š** `/api/v1`

**è®¤è¯æ–¹å¼ï¼š** é™¤æ³¨å†Œ/ç™»å½•å¤–ï¼Œæ‰€æœ‰æ¥å£éœ€åœ¨è¯·æ±‚å¤´æºå¸¦ï¼š
```
Authorization: Bearer <accessToken>
```

**ç»Ÿä¸€å“åº”æ ¼å¼ï¼š**
```json
{
  "code": 200,
  "message": "success",
  "data": {},
  "timestamp": 1704067200000
}
```

### è®¤è¯æ¨¡å— `/auth`ï¼ˆ5 ä¸ªç«¯ç‚¹ï¼‰

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ | Token |
|------|------|------|:-----:|
| POST | `/auth/register` | ç”¨æˆ·æ³¨å†Œï¼ˆBCrypt åŠ å¯†ï¼Œç¦æ­¢è‡ªæ³¨å†Œ ADMINï¼‰ | âŒ |
| POST | `/auth/login` | ç™»å½•ï¼ˆaccessToken 2h + refreshToken 7dï¼‰ | âŒ |
| POST | `/auth/send-verification-code` | å‘é€é‚®ç®±éªŒè¯ç ï¼ˆ5 åˆ†é’Ÿæœ‰æ•ˆï¼‰ | âŒ |
| POST | `/auth/refresh` | åˆ·æ–° Token | âŒ |
| GET | `/auth/test` | æµ‹è¯•è®¤è¯çŠ¶æ€ | âœ… |

### èŒä½æ¨¡å— `/jobs`ï¼ˆ8 ä¸ªç«¯ç‚¹ï¼‰

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ | Token |
|------|------|------|:-----:|
| POST | `/jobs` | åˆ›å»ºèŒä½ | âœ… |
| PUT | `/jobs` | æ›´æ–°èŒä½ | âœ… |
| GET | `/jobs/{id}` | è·å–èŒä½è¯¦æƒ…ï¼ˆRedis ç¼“å­˜ï¼‰ | âŒ |
| GET | `/jobs` | åˆ†é¡µæŸ¥è¯¢èŒä½åˆ—è¡¨ | âŒ |
| POST | `/jobs/{id}/publish` | å‘å¸ƒèŒä½ | âœ… |
| POST | `/jobs/{id}/close` | å…³é—­èŒä½ | âœ… |
| DELETE | `/jobs/{id}` | åˆ é™¤èŒä½ | âœ… |
| GET | `/jobs/hot` | çƒ­é—¨èŒä½æ’è¡Œï¼ˆRedis ZSetï¼‰ | âŒ |

### ç®€å†æ¨¡å— `/resumes`ï¼ˆ4 ä¸ªç«¯ç‚¹ï¼‰

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ | Token |
|------|------|------|:-----:|
| POST | `/resumes/upload` | å•æ–‡ä»¶ä¸Šä¼ ï¼ˆPDF/DOC/DOCXï¼Œâ‰¤ 10MBï¼‰ | âœ… |
| GET | `/resumes/tasks/{taskId}` | æŸ¥è¯¢è§£æä»»åŠ¡çŠ¶æ€ | âœ… |
| GET | `/resumes/{id}` | è·å–ç®€å†è¯¦æƒ… | âœ… |
| GET | `/resumes` | åˆ†é¡µæŸ¥è¯¢ç®€å†åˆ—è¡¨ | âœ… |

### å€™é€‰äººæ¨¡å— `/candidates`ï¼ˆ5 ä¸ªç«¯ç‚¹ï¼‰

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ | Token |
|------|------|------|:-----:|
| GET | `/candidates/resume/{resumeId}` | æŒ‰ç®€å† ID æŸ¥è¯¢å€™é€‰äºº | âœ… |
| GET | `/candidates/{id}` | è·å–å€™é€‰äººè¯¦æƒ…ï¼ˆRedis ç¼“å­˜ï¼‰ | âœ… |
| PUT | `/candidates/{id}` | æ›´æ–°å€™é€‰äººä¿¡æ¯ | âœ… |
| DELETE | `/candidates/{id}` | åˆ é™¤å€™é€‰äºº | âœ… |
| GET | `/candidates` | åˆ†é¡µæŸ¥è¯¢ï¼ˆå¤šç»´ç­›é€‰ + è„±æ•ï¼‰ | âœ… |

### èŒä½ç”³è¯·æ¨¡å— `/applications`ï¼ˆ6 ä¸ªç«¯ç‚¹ï¼‰

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ | Token |
|------|------|------|:-----:|
| POST | `/applications` | åˆ›å»ºç”³è¯·ï¼ˆé˜²é‡å¤æäº¤ï¼‰ | âœ… |
| PUT | `/applications/{id}/status` | æ›´æ–°ç”³è¯·çŠ¶æ€ | âœ… |
| GET | `/applications/{id}` | è·å–ç”³è¯·è¯¦æƒ… | âœ… |
| GET | `/applications/job/{jobId}` | æŸèŒä½çš„ç”³è¯·åˆ—è¡¨ | âœ… |
| GET | `/applications/candidate/{candidateId}` | æŸå€™é€‰äººçš„ç”³è¯·åˆ—è¡¨ | âœ… |
| GET | `/applications` | åˆ†é¡µæŸ¥è¯¢ | âœ… |

### é¢è¯•æ¨¡å— `/interviews`ï¼ˆ5 ä¸ªç«¯ç‚¹ï¼‰

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ | Token |
|------|------|------|:-----:|
| POST | `/interviews` | å®‰æ’é¢è¯• | âœ… |
| PUT | `/interviews/{id}/feedback` | æäº¤é¢è¯•åé¦ˆ | âœ… |
| POST | `/interviews/{id}/cancel` | å–æ¶ˆé¢è¯• | âœ… |
| GET | `/interviews/{id}` | è·å–é¢è¯•è¯¦æƒ… | âœ… |
| GET | `/interviews/application/{appId}` | æŸç”³è¯·çš„æ‰€æœ‰é¢è¯•è½®æ¬¡ | âœ… |

### Webhook æ¨¡å— `/webhooks`ï¼ˆ4 ä¸ªç«¯ç‚¹ï¼‰

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ | Token |
|------|------|------|:-----:|
| POST | `/webhooks` | åˆ›å»º Webhook é…ç½® | âœ… |
| GET | `/webhooks` | æŸ¥è¯¢ Webhook åˆ—è¡¨ | âœ… |
| DELETE | `/webhooks/{id}` | åˆ é™¤ Webhook é…ç½® | âœ… |
| POST | `/webhooks/{id}/test` | æµ‹è¯• Webhook | âœ… |

---

## Redis è§„èŒƒ

### Key å‘½åä¸€è§ˆ

| Key æ¨¡å¼ | ç±»å‹ | ç”¨é€” | TTL |
|----------|------|------|-----|
| `jwt:token:{userId}` | String | Access Token | 2h |
| `jwt:refresh:{userId}` | String | Refresh Token | 7d |
| `verification_code:{email}` | String | é‚®ç®±éªŒè¯ç  | 5min |
| `verification_code-limit:{email}` | String | éªŒè¯ç å‘é€é¢‘ç‡é™åˆ¶ | 60s |
| `task:resume:{taskId}` | String | è§£æä»»åŠ¡çŠ¶æ€ | 24h |
| `idempotent:resume:{resumeId}` | String | å¹‚ç­‰æ€§æ£€æŸ¥ | 1h |
| `dedup:resume:{fileHash}` | String | æ–‡ä»¶ MD5 å»é‡æ ‡è®° | 7d |
| `lock:resume:{fileHash}` | String | Redisson åˆ†å¸ƒå¼é” | è‡ªåŠ¨é‡Šæ”¾ |
| `cache:job:{jobId}` | String | èŒä½è¯¦æƒ…ç¼“å­˜ | 30min |
| `cache:job:hot` | ZSet | çƒ­é—¨èŒä½æ’è¡Œ | 10min |
| `counter:job:view:{jobId}` | String | åŸå­æµè§ˆè®¡æ•°å™¨ | æŒä¹…åŒ– |
| `cache:candidate:{candidateId}` | String | å€™é€‰äººç¼“å­˜ | 30min |
| `cache:application:{applicationId}` | String | ç”³è¯·ç¼“å­˜ | 30min |
| `cache:interview:{interviewId}` | String | é¢è¯•ç¼“å­˜ | 30min |

æ‰€æœ‰ Key å‰ç¼€ç»Ÿä¸€åœ¨ `RedisKeyConstants.java` ä¸­ç®¡ç†ã€‚

---

## RabbitMQ æ‹“æ‰‘

```
Producer
  â””â”€â”€â–¶ smartats.exchangeï¼ˆDirect Exchangeï¼Œdurableï¼‰
         â”‚
         â”‚  routing_key: resume.parse
         â–¼
       resume.parse.queueï¼ˆä¸»é˜Ÿåˆ—ï¼‰
         â”‚ x-dead-letter-exchange: smartats.dlx
         â”‚
         â”‚  Consumer æ‰‹åŠ¨ ACK
         â”‚    1. å¹‚ç­‰æ£€æŸ¥ï¼ˆRedis æ ‡è®°ï¼‰
         â”‚    2. Redisson é”ï¼ˆfileHash ç»´åº¦ï¼‰
         â”‚    3. æ›´æ–° Redis çŠ¶æ€ PROCESSING
         â”‚    4. æ–‡ä»¶å†…å®¹æå–ï¼ˆPOI/PDFBoxï¼‰
         â”‚    5. AI è§£æï¼ˆæ™ºè°±AIï¼‰
         â”‚    6. å†™ MySQLï¼ˆcandidatesï¼‰
         â”‚    7. Webhook é€šçŸ¥
         â”‚    8. æ›´æ–°çŠ¶æ€ COMPLETED â†’ ACK
         â”‚
         â”‚  å¤„ç†å¼‚å¸¸ â†’ republish(retryCount+1) â†’ ACK åŸæ¶ˆæ¯
         â”‚  è¶…è¿‡ 3 æ¬¡ â†’ NACK â†’ æ­»ä¿¡
         â–¼
       smartats.dlx â†’ resume.parse.dlqï¼ˆæ­»ä¿¡é˜Ÿåˆ—ï¼‰
```

---

## AI é›†æˆ

### æ™ºè°±AI é…ç½®

é¡¹ç›®ä½¿ç”¨ Spring AI é›†æˆæ™ºè°±AIï¼Œå®Œå…¨å…¼å®¹ OpenAI æ ¼å¼ï¼š

```yaml
spring:
  ai:
    openai:
      api-key: ${ZHIPU_API_KEY}
      base-url: https://open.bigmodel.cn/api/paas/v4
      chat:
        enabled: true
        options:
          model: glm-4-flash-250414  # å…è´¹æ¨¡å‹
          temperature: 0.3
          max-tokens: 4000
```

### ç®€å†è§£ææµç¨‹

1. æ–‡ä»¶ä¸Šä¼ åˆ° MinIO
2. Consumer ä» MinIO ä¸‹è½½æ–‡ä»¶
3. ä½¿ç”¨ POI/PDFBox æå–æ–‡æœ¬å†…å®¹
4. è°ƒç”¨æ™ºè°±AI è§£æï¼Œè¾“å‡ºç»“æ„åŒ– JSON
5. ä¿å­˜åˆ° candidates è¡¨
6. è§¦å‘ Webhook é€šçŸ¥

---

## å¼€å‘è§„èŒƒ

### æ•°æ®åº“æ“ä½œ

```java
// âœ… æ­£ç¡®ï¼šLambdaQueryWrapperï¼ˆç±»å‹å®‰å…¨ï¼‰
userMapper.selectOne(new LambdaQueryWrapper<User>()
    .eq(User::getUsername, username));

// âŒ é”™è¯¯ï¼šå­—ç¬¦ä¸²å½¢å¼
userMapper.selectOne(new QueryWrapper<User>().eq("username", username));
```

### æ ¸å¿ƒè§„èŒƒ

- ä¸šåŠ¡å¼‚å¸¸ç»Ÿä¸€æŠ›å‡º `BusinessException(ResultCode.xxx)`
- å¯†ç å¿…é¡» BCrypt åŠ å¯†ï¼Œå“åº”ä¸­**ç¦æ­¢**è¿”å›å¯†ç å­—æ®µ
- å¤šæ­¥æ•°æ®åº“æ“ä½œä½¿ç”¨ `@Transactional(rollbackFor = Exception.class)`
- å†™æ“ä½œå**åˆ é™¤ç¼“å­˜**ï¼ˆå»¶è¿ŸåŒåˆ ï¼‰ï¼Œè€Œéæ›´æ–°ç¼“å­˜
- Redis ç»Ÿä¸€ä½¿ç”¨ `StringRedisTemplate` + `ObjectMapper` æ‰‹åŠ¨åºåˆ—åŒ–

### æ—¥å¿—è§„èŒƒ

| çº§åˆ« | ä½¿ç”¨åœºæ™¯ |
|------|---------|
| `INFO` | ä¸šåŠ¡é‡Œç¨‹ç¢‘ï¼ˆä¸Šä¼ æˆåŠŸã€è§£æå®Œæˆï¼‰ |
| `WARN` | æ½œåœ¨é—®é¢˜ï¼ˆç¼“å­˜é¢‘ç¹æœªå‘½ä¸­ã€é‡è¯•æ¬¡æ•°å¢åŠ ï¼‰ |
| `ERROR` | ç³»ç»Ÿçº§é”™è¯¯ï¼ˆAI è°ƒç”¨å¤±è´¥ã€MQ æ¶ˆæ¯å¤„ç†å¼‚å¸¸ï¼‰ |
| `DEBUG` | è¯¦ç»†è°ƒè¯•ä¿¡æ¯ï¼ˆç”Ÿäº§ç¯å¢ƒå…³é—­ï¼‰ |

---

## ç›®å½•ç»“æ„

```
src/main/java/com/smartats/
â”œâ”€â”€ SmartAtsApplication.java                # å¯åŠ¨ç±»
â”œâ”€â”€ common/                                 # å…¬å…±ç»„ä»¶ï¼ˆ8 æ–‡ä»¶ï¼‰
â”‚   â”œâ”€â”€ constants/RedisKeyConstants.java    # Redis Key ç»Ÿä¸€ç®¡ç†
â”‚   â”œâ”€â”€ exception/                          # BusinessException + GlobalExceptionHandler
â”‚   â”œâ”€â”€ handler/JsonTypeHandler.java        # MyBatis JSON ç±»å‹å¤„ç†å™¨
â”‚   â”œâ”€â”€ result/                             # Result<T> + ResultCode
â”‚   â””â”€â”€ util/                               # FileValidationUtil + DataMaskUtil
â”œâ”€â”€ config/                                 # é…ç½®ç±»ï¼ˆ6 æ–‡ä»¶ï¼‰
â”‚   â”œâ”€â”€ SecurityConfig.java                 # Spring Security + CORS + JWT
â”‚   â”œâ”€â”€ RabbitMQConfig.java                 # Exchange, Queue, DLQ
â”‚   â”œâ”€â”€ MinioConfig.java                    # MinIO å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ AsyncConfig.java                    # @Async çº¿ç¨‹æ± 
â”‚   â”œâ”€â”€ RedissonConfig.java                 # Redisson åˆ†å¸ƒå¼é”
â”‚   â””â”€â”€ ZhipuAiConfig.java                  # æ™ºè°± AIï¼ˆOpenAI å…¼å®¹ï¼‰
â”œâ”€â”€ infrastructure/                         # åŸºç¡€è®¾æ–½ï¼ˆ4 æ–‡ä»¶ï¼‰
â”‚   â”œâ”€â”€ email/EmailService.java             # é‚®ä»¶å‘é€
â”‚   â”œâ”€â”€ mq/MessagePublisher.java            # RabbitMQ æ¶ˆæ¯å‘å¸ƒ
â”‚   â””â”€â”€ storage/                            # FileStorageService + MinIO å®ç°
â””â”€â”€ module/                                 # ä¸šåŠ¡æ¨¡å—ï¼ˆ7 ä¸ªï¼Œ65 æ–‡ä»¶ï¼‰
    â”œâ”€â”€ auth/                               # âœ… è®¤è¯ï¼ˆ12 æ–‡ä»¶ï¼‰
    â”œâ”€â”€ job/                                # âœ… èŒä½ç®¡ç†ï¼ˆ10 æ–‡ä»¶ï¼‰
    â”œâ”€â”€ resume/                             # âœ… ç®€å†ä¸Šä¼  + AI è§£æï¼ˆ11 æ–‡ä»¶ï¼‰
    â”œâ”€â”€ candidate/                          # âœ… å€™é€‰äººï¼ˆ7 æ–‡ä»¶ï¼‰
    â”œâ”€â”€ application/                        # âœ… èŒä½ç”³è¯·ï¼ˆ8 æ–‡ä»¶ï¼‰
    â”œâ”€â”€ interview/                          # âœ… é¢è¯•è®°å½•ï¼ˆ7 æ–‡ä»¶ï¼‰
    â””â”€â”€ webhook/                            # âœ… Webhookï¼ˆ10 æ–‡ä»¶ï¼‰
```

---

## é¡¹ç›®è¿›åº¦

### å½“å‰çŠ¶æ€ï¼ˆ2026-02-23ï¼‰

| æ¨¡å— | å®Œæˆåº¦ | çŠ¶æ€ |
|------|--------|------|
| å…¬å…±ç»„ä»¶ï¼ˆç»Ÿä¸€å“åº” / å¼‚å¸¸ / å·¥å…·ï¼‰ | 100% | âœ… |
| Spring Security + é…ç½® | 100% | âœ… |
| è®¤è¯æ¨¡å—ï¼ˆæ³¨å†Œ / ç™»å½• / JWT / åˆ·æ–°ï¼‰ | 98% | âœ… |
| èŒä½ç®¡ç†ï¼ˆCRUD / ç¼“å­˜ / çƒ­æ¦œï¼‰ | 95% | âœ… |
| ç®€å†ä¸Šä¼ ï¼ˆä¸Šä¼  / å»é‡ / AI è§£æï¼‰ | 95% | âœ… |
| å€™é€‰äººæ¨¡å—ï¼ˆç­›é€‰ / ç¼“å­˜ / è„±æ•ï¼‰ | 95% | âœ… |
| èŒä½ç”³è¯·ï¼ˆåˆ›å»º / çŠ¶æ€æµè½¬ / æŸ¥è¯¢ï¼‰ | 95% | âœ… |
| é¢è¯•è®°å½•ï¼ˆå®‰æ’ / åé¦ˆ / å–æ¶ˆï¼‰ | 95% | âœ… |
| Webhookï¼ˆåˆ›å»º / æµ‹è¯• / 13 ç§äº‹ä»¶ï¼‰ | 95% | âœ… |
| å•å…ƒæµ‹è¯• | 5% | âš ï¸ ä¸è¶³ |
| å‘é‡æœç´¢ / RAG | 0% | âŒ æœªå¼€å§‹ |

### ä¸‹ä¸€æ­¥è®¡åˆ’

| ä¼˜å…ˆçº§ | ä»»åŠ¡ | é¢„è®¡æ—¶é—´ |
|--------|------|----------|
| ğŸ”´ é«˜ | è¡¥å……å•å…ƒæµ‹è¯• | 1-2 å‘¨ |
| ğŸŸ¡ ä¸­ | æ‰¹é‡ä¸Šä¼ åŠŸèƒ½ | 1-2 å¤© |
| ğŸŸ¡ ä¸­ | Swagger/OpenAPI æ–‡æ¡£ | 0.5 å¤© |
| ğŸŸ¡ ä¸­ | å‘é‡æœç´¢ / RAG é›†æˆ | 1 å‘¨ |
| ğŸŸ¢ ä½ | ç¯å¢ƒåˆ†ç¦»é…ç½® | 1 å¤© |

---

## å‚è€ƒæ–‡æ¡£

| æ–‡æ¡£ | è¯´æ˜ |
|------|------|
| [é¡¹ç›®è¿›åº¦æ€»ç»“](docs/project-progress-summary.md) | è¯¦ç»†çš„æ¨¡å—å®Œæˆæƒ…å†µåˆ†æ |
| [ä¸‹ä¸€æ­¥è®¡åˆ’](docs/next-steps-plan-2026-02-23.md) | å¼€å‘ä¼˜å…ˆçº§å’ŒæŠ€æœ¯æ–¹æ¡ˆ |
| [SmartATS è®¾è®¡æ–‡æ¡£](docs/SmartATS-Design-Document.md) | å®Œæ•´æŠ€æœ¯è§„èŒƒï¼šæ•°æ®åº“ Schemaã€å…¨é‡ API å®šä¹‰ |
| [ä»0åˆ°1å¼€å‘æ•™å­¦æ‰‹å†Œ](docs/SmartATS-ä»0åˆ°1å¼€å‘æ•™å­¦æ‰‹å†Œ.md) | åˆ†é˜¶æ®µå¼€å‘æŒ‡å— |

---

## License

MIT License

---

**æœ€åæ›´æ–°**: 2026å¹´2æœˆ23æ—¥  
**ç‰ˆæœ¬**: 1.0.0  
**é¡¹ç›®çŠ¶æ€**: å¼€å‘ä¸­ï¼ˆæ ¸å¿ƒåŠŸèƒ½ ~92% å®Œæˆï¼‰
